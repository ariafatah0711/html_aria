<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>js 13 - AJAX</title>
    <link rel="stylesheet" href="../../z-files/css/style-js.css">
    <!-- libary ajax JQuery -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>
<body>
    <nav>
        <a href="../00 - main.html">back js...</a><br /><br>
        <a href="main.html">AJAX.menampilkan data</a>
        <a href="main2.html">AJAX.mengambil data</a>
        <a href="main3.html">AJAX.mengirim data</a><br>
        <a href="main4.html">JQuery</a>
        <a href="main5.html">FETCH API</a>
        <a href="main6.html">Axios</a><br>
    </nav>

    <div class="deskirpsi">

        <details class="deskripsi-container">
            <summary>Axios</summary>
            <pre>    
                - axios hampir mirip seperti fetch bedanya axios adalah sebuah libary sedangkan fetch adalah API yang tersedia di web browser
                - libary axios
                    &lt;script src="https://unpkg.com/axios/dist/axios.min.js"&gt;&lt;/script&gt;

                - contoh axios
                    axios.get("https://jsonplaceholder.typicode.com/posts");
                    .then(function (response) {
                    // handle succes
                    console.log(response);
                    })
                    .catch(function (error) {
                    // handle error
                    console.log(error);
                    })
                    .then(function () {
                    // always execute
                    })
            </pre>
        </details>

        <details class="deskripsi-container">
            <summary>load content menggunakan axios</summary>
            <pre>
                function loadContent() {
                    document.getElementById("btn-load").innerHTML = "Loading...";
                    document.getElementById("btn-load").setAttribute("disable", "true");
                    axios.get("https://jsonplaceholder.typicode.com/posts")
                    .then(function (response) {
                        var template = response.data.map(post => {
                            return `
                            &lt;h3&gt;${post.title}&lt;/h3&gt;
                            &lt;p&gt;${post.body}&lt;/p&gt;
                            &lt;hr&gt;
                            `
                        }).join("")
                        document.getElementById("result").innerHTML = template;
                    }).catch(function (error) {
                        // handle error
                        console.log(error)
                    })
                    .then(function () {
                        document.getElementById("btn-load").innerHTML = "done;"
                        document.getElementById("btn-load").removeAttribute("disable");
                    })
                }
            </pre>
        </details>

        <details class="deskripsi-container">
            <summary></summary>
            <pre>    
          
            </pre>
        </details>

    </div><br>

    <h1>Axios</h1>
    <button id="btn-load" onclick="loadContent()">load content</button>
    <div id="result"></div>

    <script>
        function loadContent() {
            document.getElementById("btn-load").innerHTML = "Loading...";
            document.getElementById("btn-load").setAttribute("disable", "true");
            axios.get("https://jsonplaceholder.typicode.com/posts")
            .then(function (response) {
                var template = response.data.map(post => {
                    return `
                    <h3>${post.title}</h3>
                    <p>${post.body}</p>
                    <hr>
                    `
                }).join("")
                document.getElementById("result").innerHTML = template;
            }).catch(function (error) {
                // handle error
                console.log(error)
            })
            .then(function () {
                document.getElementById("btn-load").innerHTML = "done;"
                document.getElementById("btn-load").removeAttribute("disable");
            })
        }
    </script>

    <script src="script2.js"></script>
    
</body>
</html>